<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Chat BBM-Like dengan PIN</title>
  <link rel="stylesheet" href="style.css" />

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

  <script src="firebase-config.js"></script>
  <script src="app.js" defer></script>
</head>
<body>

  <main>
    <!-- LOGIN -->
    <section id="loginSection" class="card center">
      <h2>Masuk Chat</h2>
      <input id="namaInput" type="text" placeholder="Masukkan nama kamu" autocomplete="off" />
      <button id="loginBtn" class="btn-primary">Masuk</button>
    </section>

    <!-- CHAT UTAMA -->
    <section id="chatSection" class="hidden">
      <header>
        <h2>Hai, <span id="userName"></span> (PIN: <span id="userPIN"></span>)</h2>
        <button id="logoutBtn" class="btn-logout" title="Keluar">Logout</button>
      </header>

      <!-- PERMINTAAN PERTEMANAN -->
      <section id="permintaanSection" class="card">
        <h3>Permintaan Pertemanan</h3>
        <div id="permintaanList">Tidak ada permintaan.</div>
      </section>

      <!-- TAMBAH TEMAN -->
      <section id="cariTemanSection" class="card">
        <h3>Cari dan Tambah Teman</h3>
        <input id="pinInput" type="text" placeholder="Masukkan PIN teman (6 digit)" maxlength="6" autocomplete="off" />
        <button id="btnKirimPermintaan" class="btn-primary">Kirim Permintaan</button>
      </section>

      <!-- DAFTAR TEMAN -->
      <section id="friendsSection" class="card">
        <h3>Daftar Teman</h3>
        <ul id="friendsList" class="friends-list">
          <li><em>Belum ada teman</em></li>
        </ul>
      </section>

      <!-- AREA CHAT -->
      <section id="chatAreaSection" class="card hidden">
        <header>
          <button id="backToFriendsBtn" class="btn-back">&larr; Kembali</button>
          <h3>Chat dengan <span id="chatPartnerName"></span> (PIN: <span id="chatPartnerPIN"></span>)</h3>
        </header>

        <div id="chatArea" class="chat-area"></div>

        <footer>
          <input id="messageInput" type="text" placeholder="Ketik pesan..." autocomplete="off" />
          <button id="sendBtn" class="btn-primary">Kirim</button>
        </footer>
      </section>
    </section>
  </main>

</body>
</html>
